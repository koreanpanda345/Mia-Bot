import { connect } from "mongoose";
import GuildConfigurations from "../models/GuildConfigurations";
import cache from "./cache";
import Members from "../models/Members";
import { Collection } from "discord.js";

export async function runMongoose() {
  await connect(process.env.MONGO_CONNECT as string, {});

  await updateCache();
}

export async function createMember(userId: string) {
  const newMember = new Members({
    user_id: userId,
    card: {
      background_url:
        "data:image/jpeg;base64,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",
      color: "green",
      description: "No Description",
      title: "New Member",
    },
    levels: [{ guild_id: "default", level: 1, xp: 0, needed_xp: 100 }],
  });

  await newMember.save();
  await updateCache();
  return newMember;
}

export async function createGuildConfig(guildId: string) {
  const newConfig = new GuildConfigurations({
    guild_id: guildId,
    modules: {
      auto_roles: false,
      levels: false,
      logs: false,
      moderation: false,
      ranks: false,
      verify: false,
      welcome: false,
    },
    auto_roles: {
      ids: [],
    },
    levels: {
      blacklist: {
        users: [],
        roles: [],
      },
      card: {
        background_url: "",
        color: "",
        accent: "",
        opacity: 1,
      },
      ignore: {
        channels: [],
      },
      notifications: {
        ping: false,
        channel: "",
      },
      rate: {
        amount: 1,
        timespan: "1 message",
      },
      rewards: {
        enabled: false,
        levels: [],
      },
    },
    welcome: {
      title: "Welcome <member>",
      body: "Welcome to <guild>!!!",
      image:
        "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAH0AvAMBEQACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAFAgMEBgcAAf/EAEUQAAIBAwIEAwQGBQoFBQAAAAECAwAEEQUSBiExQRNRYRQicYEyUpGhscEHIyRCchUzNENic4KSstEWU3Si8CY2k9Lh/8QAHAEAAgMBAQEBAAAAAAAAAAAAAwQAAgUBBgcI/8QANhEAAgIBAwEGAgkEAwEBAAAAAQIAAxEEEiExBRMiMkFRYXEUM4GRobHB0fAGI0LhQ2JyUhX/2gAMAwEAAhEDEQA/AMejcxnr8RWulhQ5EZDYk60O+UEeVOFgy5Eb0/isEa1CyK5nhHP95fzFI2V4O4Sur0pU94khKcqDVAciJqciWPha6RmNlKQHJ3Rk9/StTQajGazK2MVXMj8V2SWt+kkY2iZdzj1yRmg66oK+4esHW2eYBuI9pDdjWcw5hLUxzGarAzqkk6pJOqYknEYqSTqmJJ1TEk6piSWbSbVvYoI4hmSdsgDuTyA/CmafCmTPQaKvZpwT68wn+k+zXT7+0s02lIbaNFx35HOfnmgo++rcfUmJa7yr85U7X+jN/H+VdTyfb+kXo8hhPh7SZNZ1SK0Tkn0pn+og6n8vjV1Uu2BOXOEXM3XhjTopZ49kISytF2onbpyFM6lu5q2L1MU09e5txh/Xb2Ox0ySWQbi+UVR0JPnSemqNlgAjzHAmVXEpa4WMczuwfWvS4wIq3tKpxcjR8VaujjDC8lz/AJjSFX1a/KP1nwiCgKJLZjmq6O9ud8eHjPRgKzHrKGZOl1teoHHB9oMhke2mDDt1BqgJXpH6rDW4YQ3BIlxGJIz8R5GjKwM3KbFuXcsDalbiG4Zoh7vIlaG9JA3rMXV1Cq07RxGoZGV1eJirKQQw6g0POORBDDCGdX1FdVW2dlxKsWyUf2snmK0Vt79eesHRR3e4ehg20sZNRu7eyjZVkd8AueXTr0rOash9sKy7gFhSPhHxAdmqWhx15Sf/AEow0zGVFVZ/yjn/AAZIsu0apZ7wu/8ArOn+Sp9Fb2kNVY/ygHV9Pk02/ltJnR3QjLpkqcjPLIHnSxXbxAum04kLFclZ6efU1JJ5ipicnoA7k/IZqSRcMXiypGucuwUfM1MS6LvYKPWaTwnag69aSbR7PaspYnsAOX4Z+VFuOKionqbVCIFErPG2oNqmozXx6SzkpnsoGFH2AVxk7utVmRrxhFge3Xbbf4/yqYwn2xehcJNJ4Bt4YeGhcpGBPPcukj9yqhcD/uNN6EZ3GKaoZcTXtGCLpduEQpmMEqeRJ86Q1BJtJJjVa4UStcY30slkbVAskkGZLgxj3Y+wH31o6CsK+88Z4E6/lmes+JVOefKtrEAFgTioluJ9WJJJN5L1/iNZlX1Yja8KINA5VfM7mWpk2gqVUq3VT0agkD1ngEchtynkQFquijBltQSBnch6rStlRHI6T0Wj7RFhCW8H8DAcTy2c25OvcHofjQQcdJtVWPU25I/czJcSmROhAyD2NPUkFcQ19gtcsPWRZLd41My84ife/s0C7TMq94vSKlSniHSchwQaBW5Rsw6jI4hPhvnxPZ/H8jRnYM+RBqP70v3Aot11aO5ubaKWO1ikndpc4QIN2Rz65x59TR9SCacL1PHE69fhhfiPTIoZ4nbTms45WAaaKbdFJlQfcyMgdamifdwWyflz9soFJGB1mY/pISBeLbwW380NoX4bRS94Hh98cwd3+OfaVfFAxAzsVMST3byqYnJ2K7idxCXD0SvqcZP7isw+IHKoF5j/AGZWG1S59OZogxp/BU0yvtuL66CqV67VBBH+r7ar57wPQCbdozbj2me6w4MscI6J7zfE9PuotvJA9pj6991gT2jMI/Zj/H+VVbySlXlM0jg5tnCUH/VzfglO9njO6LXDxy+6jqF1eRWNhpjETSR7pCrZ2qRyyfhnNDqpRC1lvQQ3UDE7VbeCz4X1KKHLMAviSsOchyDn4VWqx7NUhPT29oQr4Zl7uN6869FjiCVeYO4mGeJdU/6uT/UayK/IIQdBB4FWlczTOGLC1vNYWG8ACFGIUtj3gOWKU1TulW5Os8N2atdt4WzpLJxLwadTvmvLKaK3kYAFNuAeuTy79KzdNrhUm1xmeg1nZnfPvrIHwmWa/oDR3UsEiCO6jYhk7N6itAqtqh6/WL6bXvpn7nUenr7fv85Up7eS3kIZSMdQaCGKnInoVIYZXpDegRx3UDo2Ccncp8iBWzpL0esqZV22jB6SJqulfybdKikmKRdy8vo+lZmq04rbKdJbTN6ekl8OWu3XbJ9vMMfwoFZ5McasbgZbtA072m7MZtvaURGkaIyFMgDrleefhT727EznB+U6w2r1jmqQWwuvFstMm0+38PCidmZ3PUsSeg6DHpV9Oz4w7ZkVCRycyg8bq3/El0MY+jy/wikXHMz9SPEIC2HyqpWAxPNjeVcxObTPNp8qmJNpikUnPI11ROquYZ4VtnuNbhgjHvSgovxOBUbw8zR7N8GoDH2P5S3cXzxwXTWajbb6fuVR5nv9uAKrQON3vNdmFdRtaZ+iS3UrsqM8hDSMAM4ABJPwAB+yuFuZ5osSdzdTHYP6Kf7z8qjeWNUDwmaDwoccK2wPe7m/BK0OzejQdi5eaho2mQ6dZhECtNKAZHPRvT4fjSWpva1ueghVXEF6/IY9C1/xXJzMqqW78ko2mG66rHt+8tiZYWJbPLA9a9H0HM4iZMj69JHPr2oywsHje5kZWHRgWPMVjV8IAYL0xIeKtKZmpcP2MVzrVvHNIEQNuGe5HPFLapitTEDM+fdnBbNSiscf6mixukrSPDIJQ3vDB5DHLr8q8+6kAAjE95XarElTkfhKrx/ppvYbLYIkkecR+K/Jlz0Bx2pzs+zaW+/+fGZna1e/uyMdcZ/npKFr/CN/b2zzX9vtRG2eMpz8M+YPnTwsp1Bwp5i1Dars/lxlM/zEhcN6H4N9G5k2SdiOeR+YoJd6m+M9doe61lO9TkQ/xZw6DapeLt2KNhAXBBOe3lRatSbTtadWhUyglb4etmGsQL9LYc5PLliuFdjTqkkhT6S46BppnvGZbhrfw4ywkjY7gfTHOrXX7F6Zh7TsAJEkcV6cYooWa+nud+UJnfJGMZxz71NHeHyoAHyldOwYkYxM54vs/G4iuGIznbz/AMIqE8xO9ctAj2G0dKhgNsVHp27tVCZbZHxpQ+rUzO7IpNKxu92rAywSF+F7b2DWbS6ZTiJi5GOZxk4+6u2DNZEHogx7QZM8YP5SHxW7ySGMnLysZZT8Tnn95+yqgbUAmr2k2cVDp6/pJOlaVLp2i3kjxHx7qwmkkJ/q4fDbavpk4J/wirilfo7Wt8APvGZl92BUzmVa3B9lbP8AzPyoD+WE0/Qy88Pv4XCdsxzyupz9yVpdljIeRh4iZfNR4hj0vh7TLiRTLdTQho0/dyAPePnjtQa9Kbr3HRQZbOBmVDibiWXWABIPAs4+YjB+k3cnzNaWm0telG5jkwgX1MqdxcNKSEG2Pyz29apbez8DpBu/oIwzrGMsfgO9LswEAxid1w3NI1VewbrQ8sekHmaTZ3NpqMfiWE6TADJUH31+I61ZbFYcGfM7dPfpmxauPy++FLbXb+zsvYUI8HceZB3qD1AOcfdQbNJXY+89Y7pu1L6au6U8Q7r8kt7HYXOn3Vs6NcoEVh9Fsd/TzFZ+nQVl1cHODmeg1lzXCuylwQSOvof51ENSWqTW7wXcCOrDDR9U+Wenas/dhgyH95vbdyFLB+0oFzpFwnEc1rpUAT2ZPFWIvzKHGcHnWoXR6Vew/bBdlalNJqLNPghTzxGeJNRvFslsLq38CRTucA8z5UMJsO9eRNVNVRZayqeR9nEEcMRI9429feI5UR7NwzG6VAYkzQrTT4VUzwriZVIQk/cfOlHfIwx4grnbyk8Sv6+Lt7qOC7iiyCxV+RZhk9T5c+Qo2ndASazDadVPKxmXhuLVJWnjZAxAABzzOP8A8ohvA4xB21hRyJUdX0o2c7xMpBVsEHtRQciJlADxJOmaK9yoKLnPlVcwyUlhJFzpLWwy68vhXJVq9sTbaeZSyqvxrvSdRcwqdLaM+1PHsT3j8Bg1bvN5xKaas1642H2lc07R31bWZJLhMxxneynox57U+77BXVG9sek7cxLEt1MLarDNcxPb2yySM0UsTtGn85IyuoHXoC34mmLbkatl98Y+HT9oU6djXycTOWt3t4ZI5AQwmIIxjHKkn8sDShXMtlnMrcHadCi+8txcFj5/Qx+NavZI85+X6yjKS5kO8vSWRLiVpZEQBELfRUdvSn3vqqJVep5hFXHWDpZWlbdKen2CkXsLHLGdcxoM0nKEHHeQ9PlQi27pFyfaORQBTubLN9Y1ABBGPcu9dzBkyuW881tIJIJGjdejKcYrO6Tj1q64YcS06ZxxdRhYtTjW5j+vnDj59/nR1vYdZg6r+n6Xy1J2n8JbNP1Ox1MqbC5/WjmI291wfTz+VMLYjzz9+i1WkOXXj3HMvOla9b3MqG9lNpegbWf+rlH9odjWbfpGRTsGV/ETd0Pa1dpBtba3v6H5yHwtGX4t1SZQDEEddytuUZYYAPlyNTWcaZBC9mEtrrCOnP5ybxtYW0mjzXjoPaIQNr9yMgYPmOdA0Vh7wV+hmj2nUvdm9eGXoZn2lKP5UtniOBvwy9O1aDUbckdIXsztjv2FVvD/AIH9jLXYalceIQfGlULzWN8FeXXtmlr6AUwvWelsqXrB2ramlxqCOBJtjjEZ3+eTk9T/AOCh0ac1KQYxTUVXmPWesnS8R3AVgpzyYZ2nv16+mBVzRn1i9xV84PMrev6iNRmkuBgF23cqcSrwCJHnAll4OuoJrdVBXcORU450lcCI0jKa8SZxlfW3s1vAjI0q5J2490eRqUq3JioGMmD+G9siXcgXdJCgcAeWef3GrW5UD4wtRAYZlkXUbOSwkWeRdjxNyY9eXbzoKoxYAS1lbbhj3gXwYdKs4ySqLtd5pfLKjmftwK0QAtbfz3iLuWvitDvrRLdZzPCiAZZywGPjWdYCTNbUFWGRMx4rvbfUdWv7qzx4L3RKkDGfd6/PrReiARSvniRf5W8HRLazgBEySys7EcgG2Yx/lNHp1T0oyr6+s5twTB9qxa4Y4LuQe/41KGJsz6ymeeJNWAs2ZTu/sjpTgGesoR7z2aeG2TMzhfIdT9lR7FQcwDuB1g+XUriYEWULbRy3kUsbrH8g4idl4HEHyR30jFn8Uk9y1B7q08kQPer7zh0qR8T3AqTu0GehSpyvUdKrmcNRMP6ZxbqFmFjuiLqEfuy9R8D1oyXMsx9V2Lp7iWA2t8JfeEuOLKKTZFII1lYGS3mIBP8AC3Spatd454Mza6db2YxKjeh64/nE0KO/s9Y0q5ym5UhzKko9M/Pp1FZ70WUWAzWq1+n1tDj2HIPpMz0WIm/QeRJz8q27fIZhdm2bdZUfjDGh8VwadaPbz26swB2sv73fB9KyrqGtIIafULdN3hyDEalxjb3VjNbppyIZEKhw3T7qqmlKMDunU0u1gd0ovFC3TazM0TxqhC4OCT9EetNmssBFnqvJypHMhW1zLDFJbXBAkUh1x+8D5fOmaOPAZnUWix2HqMg/ZFRXxjsy2cDP21Zk8MJvwDJsGo7oQS2fKoqeGFXlMy2cI3q22oTlfGXMZ/nUAyN3L7utLXVuSAwxGNNWbSQZL4ourdNKka1hiSVpEG4Lz5mpUGFgyYzbU1YBJ9RAut61Hqe23E5htYVLbipJdwvf44wPLOaY2gcnrM5KO73MeSZRdQusMQGwD2HelLGwcAwdj7B1iYUkWwLSqV3S5APXpVbanrQFxjPSW0u4gkxsqT6Cgcw7KTPYLiC1kYynHu8gBk0elgjZMWe2uvrGLrWJpMrAvhr59TV3vY8CIWalm6QczFn3OSSepJpYg9TAdesskcWYQO21a1V8gmSzeKJ8HPapOboDWRfP7az9wm+LFjqkHpzqQykHpFiqmFEWMHqBXIQYM98NTzU4NTMncqekKaZreqaYNsE5kiPIxMSQR5edEW4jEzdX2NVfyRg+44P+4eh4tt/ZZZEhkgvVXKfvKT8f9xTS271PEwB2FqKdQjI+VB6+oj2l6hqmr2bXEfs8YyVwLVD+VcAQ+k9t2dordQneG48GSFt9UyQ1woPl7PHn/TXMIOs117Ob1eVvUddIv5UuI0eRWwWJxn5AUszkcCJN2itTd2QOIUXSk1q10+88VLRVQht/MkeY8/mRTiBmAcek8Y/aNOhvuLeJi2QB7EfhzCL8F6fDFJb3OqtuVPEBRRhj5DyNXL5GIN+2rckLV6e/+pw4OsgsaW2rDcY/FJkX3Ux2J866LCF6Q1fbtiqFer8en3iNGCXTmM6SxSxsNu5D0zz59fKiaty7hgPSel7G7Y0+ttITggdCJE1O6eW0wef6xO3r8KRUYcGa+ssyoHxEGTme9kENrCGkCgHbyVfVj5/jTDK1rYWZOs1aUnHrIc/sWlnLuLu89Pop6Dy/GrKaNNz5n/CZgck73keS8f2Mvcq25pfcG3GRj1pK/UtqWyx6R5LHpTfYpwekiwb72RlzsQDOF61KqVY4MztZr7AMjgSZZ6PBPKwkMm1VLdev3U5Vpa3JE52Wq6u7Y/TGYJuo0ilZUGADSzoFJxL3oqOQJGagP0gJc4Yv1C/wrWknkEwHbxThFyqSb5xhtZjma0hYnuUGftpMhT1E+ntp6LPMg+6NXGi6e1u8wjaMgHGyTvjPQ1UouMiL3dlabYWAIxGzw2h/mL5x6OmcfZVNo94M9it/x2feI0/D2pr/ADZt5h6Ngn7aqeIJuz9ZX6BoxJp+oQZ8Wxn5fUXf+FUJEFm2s4sQiNJIiyBHOxs/RcbSPtqYMsuorPGYgA+I+PM09pOpi7CWThHURp+oFbh3Fq5JZQO/mPI0W+jevh6xjTMyEgHEvNpqWkXJkL5gO79U0je6Rnlk45VmXaa5CDnIj41dgHWUHVNKjuddlhiuIZI5bgqJFOAR5j760NgXTbyJl3VG0kjqYYh0zULJ207dbPJBGIyQwO7K4BXPcelC35QYiZ7KosY7h4s9fXj+YMi6ro+pW2liCYTmbxRk7ieo5H50yjqyQ/cgWFQP8ZIsNH1CyWGK6M0TsyEqJtuVLeeeXxrjWqa/DHe5Q6YgjJ+UmccQxW7WwhhZI5gWLrGFBI9By79aAbgZl6PTjSOXK8niMT8Omy0yK7eeLMrbQg5Mp6/lVO8yMiPXal++WkrjIzmQ+IRDFpun2+nXYiNwSJIUTBAx1J65Jrv0h38C8Re3RrWQ55Lepgm00mJH+iWcDO5+dN16ZUPi5jlWiVX8XJjd5pGpapAp06xnuBHJhjGuccqxqAdzHEJ23agrrXPM90zh7VrFpJr/AE64giwBvkTAzmtHT+aeQ11gNYxJ1vFs8UgY9zH4Vo6fzH5R3+m2zqyP+p/SVS7YrcS4xzyOYzSLsVYkRrU/WGMXFtt3GFzLGoyzrGQAfLnSlgwDiCavnwHI98S9W8WbdP4VrQTyieUsbxn5mcIuQ5V2V3SFCJHOBCx5Z5so/OkuT6T64pb/AOTF3EqmOQpDIg2HkefaqOR7Tttn9tvCekkwzLuX3JP/AI2/2qmYwtyj0P3GSIbhMDmwPqjD8qE+Zc3p8fuP7SZaTBpz+tCjaOZ6DmaVfMD3tZcnPpJHEQtrjhu5RJI3l3R4JI3Y3rnFW0SNZqAsU1oR1wpgS10C1dC5DADtuPOvXjSU1Hw+szXrGMgyyr+jCb2Wzu4ddtB7Zt8KOa2dcMw5LuBOT26CsNu0WRyNucGJjU2Kx4ziJueAOI9OjkmKWM8cJJbw7gHoM81YDt2zRa+0qn8LrjMM2trtrNdiHBHpKnpzxwT+I7LJtiOMjoSfLz5VoahVVVUHPEyO3iyV111t6/lDHDMdrecOWM8kjxXyhj44OT9NsZHelKFBrBPWYeq7Y1uk17bTuTjg/L0PpBL6rcXs7qWuJpFOWPidccs4oY0hPlb8J9Do1+matT3ZyQPWP3Ot3UcWLo3IVgF95gQQOg+VT6GV/wAvwln1enx5Tz8YL1nXNRvAgknkIclSC3IgcxkelcsqCcCZ2oY8H3MYv9fu5biG2cki3VlJY83YnJJ+WB8qCWyduIiU2at2zktj7sRDTPPqOnbz1koCcWGaesbd3Il1W0jhuT4jBV8PPPPPnWk12DmagqY2YHtJv6PLZtQs7i3jZVY3JbLDySlNJYKlZiJ5/tivvb1HwhvibSpdP02aOWRH8QLjaMYw6/704l4u5Axj/c872hR3NJOZR5YtkUrelNafzH5Rn+lmzrD/AOT+kod7/SJPjWfb5jNPU/WGJjufCtZodmfE/e3EY+WcUsxAUj3glt2oVx1miWkX7MnL9xPyrQr8g+U8Xa39w/MzhFyFWld0DoM0kZ9oWOSD9RJ/Afwqh6S1v1TfIyZEucAVSNp0k+2i55agPC7feT7flO2PqD8TSb9IH/kPy/eOa7/7fuen0o/9Yo/ZRxql+2JawcZjFqkfszgghgcDBPc+XlXsWY5E8/ZYvdmavw5Ju0m2jEUYFuF2AL0OwHPx948/WvCai1u+YD3P5xW1BvOZXf0k8TxaPw7OLW6s1vWmCNEdrOwJ2uQvXOO/bFW0lhe9Qw4lMKpBJ4/SYNe6iJJMq2cqMbRXp77t5zBdpt9JtDDkCS9KvZoLKGEHAUZ5nzOavptO7qMRS3skXv3jMADGE8SKRnDrlv8AfNPfQzXzuE1UXYAIm5kklChmU48qHZUSOolmOZ13IreC0YIKMTgj0pHUhg2QPaH1Fiui4Hv+UH3xJ1eVm6k5OPOs0HJzFdQMaoj+dJNsznVtOA6iZfyoZO0s0PqGy1Q+Immy2jS6h7/M+Hn/ALqz/ppZc59Z6pbFW3j2/WJ/RkZ1s7t7IwtOLxl2S5xs2jJyPsrW0+0oQ+cfCeV1JL2g/CH+J2vWUJfpbq/h+74LMQffXrmnKBWFPd56+vyMw+2hjSMf51lO1CPbaTGnKPN9kV/pFs64/wDk/pM3vADdMCwUbup7Vn2AFuZuan60yJMFViFbcB0IHWl7goztORFSMGaxZx/ssf8Adx/lT9fkHyE8Rc39w/Mz0R8h8KvK7pXYGKnkqnIx7wzSecT7ihjtwVaByqbQIiDzzk460N8HoJa36tvkZOhXC57ZxVCOMx1PSToBnpjpnnQHEKxkq3/pDfwr+JpKzpF/+Q/L945rw/8AT9zj68f+sUXs7jUg/OIa7yR2I3cGlSMkCmFifeZxn6Xl1weYGPI+VeryjWgE8/6nku+cUsPT/csHCvEVnpmkXJ1e/SIi7l2maT3iAeQHc4GBXh9UttmqZalzHGUN4pietxLqHEmp30Dlori8mmjIUglWckE+XI16PS6Z1Vd3WLDSknJjYgVPjWmB8YYVKscVCaKMzscSDPWjomZyPLajypgVKJI8lop5HFdIX2luI1c6TGzeL7pY/vj86XGm0xOTWJWyrcd3rIKW89rqNtNjKxybt3ljzrE1uhdWYgeE56e0o6uSuPSXuz4wQ3Ky6haAjbsLW59c5wf96863Y7FcVP655mjXrW3eIRH6OLqdPaJLG1W6ma8O2N324XaCTn4cvnW7p0XuSLDgcRAMWfiWfWJb+4uYf5RsVtSI22BZhJv99Se1M0rWqnY2ef0MyP6gyNCx+X5wFrabLCUn0punzTM/oxs9oEf9T+ky28RjLK4HIHzFZ7qSS09JqfrDIL0nZ0is2OyT9ki/uo60q/KPkJ4G9v7p+Zjgi5CiYlN0qCdqRM+8LH5iDbyYBHuH17UNukvaf7TfIybCeQFDMdTpCFtGzHkOQ6mhOhMIxA5MTJq2m2M7eNchn2jCxDec8+XLp86D9HZ+BMy3WVrYccwdqvE639q9pBa+HExBLu2WODnoOXan9HoRXYHZohdebeMR9OIY5ovZ1gcqW3lFYcz68q9AiUlsq3PymJ/+XuG0OfugbVGtZ72a5f3pJGLGNDyB8iaEatPUoRecTSKIgxnmQGJbkFCr5DpQt3tAMZ4ErogSY4qUQGDzHFFFD4k3RwEiii4zoM93mrd/OgzwSsp5dO9c7/4S4JnMnjAmIe8Bkp3+XnUNpYcQm3PIkUPtPTI7is26hHORwfhCLZjhhmWDgjU4+H4ZLq4heVTOVVUIyMp6/ChJo3cGvPXmLIm1zLQnEMHEeqRtbwzReDEQVfGDllPb4URdI2mTDHOT+hmN/UvHZz/Z+cGcR6haGxnghmWSdXCmMdRjrVatVQHKluYj/SXZ2uo1H0pqjsKnB49ftzMrvGBuH5EHPQ0jY6ljibeobNh9JFegOciAM22wT9ih9Yk/AVp1+QfIT53qG/ut8zHdgokDvlJihc9qRKkz9BqpnXF5ZQW8sbzI8rqQFj95hy6cuQ+dDYqBj1gb9VQiFN2SfaIbWbgri0tBEOzzHJ+wVdUY9BKHtC5hitdvxMh3MlzdjF5cySr9XOF+wURdOP8AKKv3lhzY2Z0Fq8rbIIyx8lFMJX6KJErJ4USS9pBbf0mTxH/5UXb4mjd2i+fk+whDWqec8+wjUk7upRAI4vqJy+3zqGwngcCBe0kYHAjYTlVQIszRax1fEXd4rw6tiLtZFeHXQIE2xYjruJzvZ3hmpLiyJKGpChokxmucwoaIKEHIJB65HnVecwin2khPCuGCz4SXtL2Y+vlRldSfF1h1KvweJJjujZN4M0KEbg22SNXUnHUZBpo2VHzZBkNeD4p7c6sHVjbhLYtgFreJYzyOeoANLXpp7a9pYn7Z3u6z5lz8+YGuC8js8u6Ricl84Y+prz1mhZPLyI4LVwAVxj24/KQ5v1gIbZMPJxhhQQsBce8HOG+fWD5reFidu6M+R5ir7JlPRUTxlZtWmx/sVv8A3SfgK1ax4B8hPk+qbFzD4mPeFRIHdMqijlv4hLdXMjLjPhryFIonecsZ91orfVrvtc/KSoraGJR4carn05/bTK1qvQRlaUr8oiitXlTCel6XDcwNcTMxAz7g5Zx60ausHkximhXG5jI9zeuymKBVgh+rHyJ+Jrhc4wOItbqG8q8CQNox8zVImzT1VFdAgWcxxFFWAizuY4FFXAij2GKAq4ESstYTqviKNe0WtTEqNQxnuBXCIwlzTtoquI2jmJKCuERtGMQyCqxhTGnQVUwyyXYP47pZ3C+JE5wueqeoNEQ7vCY7S247G5Ej3tqttcvCGLAcwT60Nl2nE7YmxtsZ2jNVnQI3JaxTj31wfrDrQnqV+s61KvwYIvYjby+EX3jHIkcxSNi7DiZt4Nb7c5m06ao9itv7lPwFPJ5RPjWrP99/mfzknYKJF8z/2Q==",
      channel_id: "",
    },
  });

  await newConfig.save();
  await updateCache();
  return newConfig;
}

export async function updateCache() {
  setTimeout(async () => {
    await getConfig();
    await getMembers();
  }, 500);
}

async function getConfig() {
  const configs = await GuildConfigurations.find();
  configs.forEach((x) => {
    cache.database.guild_configuration.set(x.guild_id, x);
  });
}

async function getMembers() {
  const members = await Members.find();

  members.forEach((x) => {
    cache.database.members.set(x.user_id, x);
  });
}
